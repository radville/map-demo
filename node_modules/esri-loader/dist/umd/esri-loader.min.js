!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.esriLoader=e.esriLoader||{})}(this,function(e){"use strict";var o="4.14",n="next";function i(e){if(e.toLowerCase()===n)return n;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function a(e){return void 0===e&&(e=o),"https://js.arcgis.com/"+e+"/"}function d(e){return!e||i(e)?function(e){void 0===e&&(e=o);var r=a(e),t=i(e);return t===n||3!==t.major?r+"esri/themes/light/main.css":r+(t.minor<=10?"js/":"")+"esri/css/esri.css"}(e):e}function c(e,r){var t,o,n,i=d(e),a=(t=i,document.querySelector('link[href*="'+t+'"]'));return a||(o=i,(n=document.createElement("link")).rel="stylesheet",n.href=o,function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(a=n,r)),a}var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r={};function f(e,r,t){var o,n,i,a;t&&(i=t,a=function(e){i(e.error||new Error("There was an error attempting to load "+n.src)),n.removeEventListener("error",a,!1)},(n=e).addEventListener("error",a,!1),o=a);var d=function(){r(e),e.removeEventListener("load",d,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",d,!1)}function s(e){void 0===e&&(e={}),r=e}function l(){return document.querySelector("script[data-esri-loader]")}function v(){var e=window.require;return e&&e.on}function u(e){void 0===e&&(e={});var d={};[r,e].forEach(function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(d[r]=e[r])});var s=d.version,u=d.url||a(s);return new t.Promise(function(e,r){var t,o,n=l();if(n){var i=n.getAttribute("src");i!==u?r(new Error("The ArcGIS API for JavaScript is already loaded ("+i+").")):v()?e(n):f(n,e,r)}else if(v())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=d.css;if(a)c(!0===a?s:a,d.insertCssBefore);d.dojoConfig&&(window.dojoConfig=d.dojoConfig),t=u,(o=document.createElement("script")).type="text/javascript",o.src=t,o.setAttribute("data-esri-loader","loading"),f(n=o,function(){n.setAttribute("data-esri-loader","loaded"),e(n)},r),document.body.appendChild(n)}})}function p(r){return new t.Promise(function(t,e){var o=window.require.on("error",e);window.require(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o.remove(),t(e)})})}function m(e,r){if(void 0===r&&(r={}),v())return p(e);var t=l(),o=t&&t.getAttribute("src");return!r.url&&o&&(r.url=o),u(r).then(function(){return p(e)})}var w={getScript:l,isLoaded:v,loadModules:m,loadScript:u,loadCss:c,setDefaultOptions:s,utils:t};e.getScript=l,e.isLoaded=v,e.loadModules=m,e.loadScript=u,e.loadCss=c,e.setDefaultOptions=s,e.utils=t,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=esri-loader.min.js.map
